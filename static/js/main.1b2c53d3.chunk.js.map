{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","state","position","switchPosition","e","props","images","itemWidth","step","frameSize","infinite","list","document","querySelector","currentTarget","isEnd","length","textContent","Math","max","innerText","min","setState","style","transform","this","animationDuration","className","width","transition","map","img","name","slice","height","src","alt","type","onClick","disabled","React","Component","App","getSettingsFromForm","form","data","FormData","inputName","value","prevState","id","htmlFor","onChange","checked","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1b2c53d3.chunk.js","sourcesContent":["import React from 'react';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[];\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  step: number;\n  infinite: boolean;\n};\n\ntype State = {\n  position: number;\n};\n\nclass Carousel extends React.Component<Props, State> {\n  state: Readonly<State> = {\n    position: 0, // position of our scroll bar\n  };\n\n  switchPosition = (e: React.MouseEvent<HTMLButtonElement>) => {\n    const {\n      images,\n      itemWidth,\n      step,\n      frameSize,\n      infinite,\n    } = this.props;\n\n    const list = document.querySelector('ul') as HTMLUListElement;\n    const { currentTarget } = e;\n    let { position } = this.state;\n    const isEnd = -itemWidth * (images.length - frameSize);\n\n    if (currentTarget.textContent === 'Next') {\n      position -= itemWidth * step;\n      position = Math.max(position, isEnd);\n\n      if (infinite && this.state.position === isEnd) {\n        position = 0;\n      }\n    }\n\n    if (currentTarget.innerText === 'Prev') {\n      position += itemWidth * step;\n      position = Math.min(position, 0);\n\n      if (infinite && this.state.position === 0) {\n        position = isEnd;\n      }\n    }\n\n    this.setState({ position });\n\n    list.style.transform = `translate(${position}px)`;\n  };\n\n  render() {\n    const {\n      images,\n      itemWidth,\n      frameSize,\n      infinite,\n      animationDuration,\n    } = this.props;\n\n    const { position } = this.state;\n    const isEnd = -itemWidth * (images.length - frameSize);\n\n    return (\n      <div\n        className=\"Carousel\"\n        style={{ width: `${itemWidth * frameSize}px` }}\n      >\n        <ul\n          className=\"Carousel__list\"\n          style={{\n            transition: `${animationDuration}ms`,\n          }}\n        >\n          {images.map(img => {\n            const name = img.slice(-5, -4);\n\n            return (\n              <li\n                style={{ height: `${itemWidth}px`, width: `${itemWidth}px` }}\n                key={name}\n                className=\"Carousel__item\"\n              >\n                <img\n                  src={img}\n                  alt={name}\n                  height={`${itemWidth}px`}\n                />\n              </li>\n            );\n          })}\n        </ul>\n\n        <div style={{ width: '100%', height: '25px' }}>\n          <button\n            className=\"button prev\"\n            type=\"button\"\n            onClick={this.switchPosition}\n            disabled={position === 0 && !infinite}\n          >\n            Prev\n          </button>\n\n          <button\n            className=\"button next\"\n            type=\"button\"\n            onClick={this.switchPosition}\n            data-cy=\"next\"\n            disabled={position === isEnd && !infinite}\n          >\n            Next\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ninterface Field {\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n  step: number;\n}\ninterface State extends Field {\n  images: string[];\n}\n\nclass App extends React.Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    frameSize: 3,\n    animationDuration: 1000,\n    step: 3,\n    itemWidth: 130,\n    infinite: false,\n  };\n\n  getSettingsFromForm = () => {\n    const form: HTMLFormElement = document\n      .querySelector('#form') as HTMLFormElement;\n\n    const data: FormData = new FormData(form);\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const [inputName, value] of data) {\n      this.setState((prevState) => ({\n        ...prevState,\n        [inputName]: value,\n      }));\n    }\n  };\n\n  render() {\n    const {\n      images,\n      animationDuration,\n      itemWidth,\n      step,\n      frameSize,\n      infinite,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        {/* eslint-disable-next-line */}\n        <h1 className=\"title\" data-cy=\"title\">\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <form id=\"form\" className=\"form\">\n          <div className=\"form__field\">\n            <label htmlFor=\"itemWidth\" className=\"form__label\">\n              Item width\n            </label>\n\n            <span>{itemWidth}</span>\n\n            <input\n              type=\"range\"\n              name=\"itemWidth\"\n              id=\"itemWidth\"\n              max=\"300\"\n              value={itemWidth}\n              min=\"50\"\n              onChange={this.getSettingsFromForm}\n            />\n          </div>\n\n          <div className=\"form__field\">\n            <label htmlFor=\"frameSize\" className=\"form__label\">\n              Frame Size\n            </label>\n\n            <span>{frameSize}</span>\n\n            <input\n              type=\"range\"\n              name=\"frameSize\"\n              id=\"frameSize\"\n              min=\"1\"\n              max=\"5\"\n              value={frameSize}\n              onChange={this.getSettingsFromForm}\n            />\n          </div>\n\n          <div className=\"form__field\">\n            <label htmlFor=\"step\" className=\"form__label\">\n              Step\n            </label>\n\n            <span>{step}</span>\n\n            <input\n              type=\"range\"\n              name=\"step\"\n              id=\"step\"\n              min=\"1\"\n              max=\"5\"\n              value={step}\n              onChange={this.getSettingsFromForm}\n            />\n          </div>\n\n          <div className=\"form__field\">\n            <label htmlFor=\"animationDuration\" className=\"form__label\">\n              Animation Duration\n            </label>\n\n            <span>{animationDuration}</span>\n\n            <input\n              type=\"range\"\n              name=\"animationDuration\"\n              id=\"animationDuration\"\n              max=\"3000\"\n              min=\"500\"\n              value={animationDuration}\n              onChange={this.getSettingsFromForm}\n            />\n          </div>\n\n          <div className=\"form__field\">\n            <label htmlFor=\"infinite\">\n              infinite\n            </label>\n\n            <input\n              id=\"infinite\"\n              name=\"infinite\"\n              type=\"checkbox\"\n              checked={infinite}\n              onChange={() => this.setState({ infinite: !infinite })}\n            />\n          </div>\n        </form>\n\n        <Carousel\n          images={images}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          step={step}\n          infinite={infinite}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}